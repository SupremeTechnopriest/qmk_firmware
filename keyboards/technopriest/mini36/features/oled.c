#include "oled.h"

// Set rotation
oled_rotation_t oled_init_kb(oled_rotation_t rotation) {
  return OLED_ROTATION_90;
}

// Technopriest Logo
void render_logo (int x, int y) {
  oled_set_cursor(x, y);
  static const char PROGMEM raw_logo[] = {
    0x00, 0x04, 0x7f, 0x44, 0x44, 0x00, 0x38, 0x54, 0x54, 0x18, 0x00, 0x38, 0x44, 0x44, 0x28, 0x00,
    0x7f, 0x04, 0x04, 0x78, 0x00, 0x7c, 0x04, 0x04, 0x78, 0x00, 0x38, 0x44, 0x44, 0x38, 0x00, 0x00,
    0x00, 0xfc, 0x44, 0x44, 0x38, 0x00, 0x7c, 0x04, 0x04, 0x0c, 0x00, 0x44, 0x45, 0x7d, 0x40, 0x00,
    0x38, 0x54, 0x54, 0x18, 0x00, 0x48, 0x54, 0x54, 0x24, 0x00, 0x04, 0x7f, 0x44, 0x44, 0x00, 0x00,
    0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  };
  oled_write_raw_P(raw_logo, sizeof(raw_logo));
}

// Girl Art
void render_girl (int x, int y) {
  oled_set_cursor(x, y);
  static const char PROGMEM raw_girl[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0x08, 0x04, 0x42, 0x61,
    0xe1, 0x81, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x04, 0x08, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x18, 0x24, 0x4c, 0x44, 0x24, 0x18, 0x00, 0x00, 0x00, 0xbf, 0x40, 0x80, 0xc3, 0xc6,
    0xcb, 0xe3, 0xef, 0xee, 0xc0, 0xc0, 0xc0, 0xc0, 0x80, 0x40, 0xbf, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0xfe, 0x7f, 0x81, 0xcb,
    0xd9, 0xdd, 0xdb, 0xd6, 0xb1, 0xb7, 0xb7, 0xb7, 0xb6, 0x31, 0x3e, 0x81, 0x7e, 0x00, 0x00, 0x00,
    0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x8e, 0x91, 0x95, 0xe4, 0x8e, 0xb3, 0xfc, 0xfd, 0xfb,
    0xfb, 0xf7, 0xef, 0x8f, 0x8e, 0xcf, 0xef, 0xf7, 0xf3, 0xb8, 0x83, 0xfc, 0x80, 0x80, 0x80, 0x80
  };
  oled_write_raw_P(raw_girl, sizeof(raw_girl));
}

// Windows Logo, 32x14
void render_windows_logo (int x, int y) {
  oled_set_cursor(x, y);
  static const char PROGMEM raw_windows_logo[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xbc, 0xbc, 0xbe, 0xbe, 0x00,
    0xbe, 0xbe, 0xbf, 0xbf, 0xbf, 0xbf, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x0f, 0x0f, 0x00,
    0x0f, 0x0f, 0x1f, 0x1f, 0x1f, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  };
  oled_write_raw_P(raw_windows_logo, sizeof(raw_windows_logo));
}

// OSX Logo, 32x4
void render_osx_logo (int x, int y) {
  oled_set_cursor(x, y);
  static const char PROGMEM raw_osx_logo[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xf0, 0xf8, 0xf8, 0xf8,
    0xf0, 0xf6, 0xfb, 0xfb, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x07, 0x0f, 0x1f, 0x1f,
    0x0f, 0x0f, 0x1f, 0x1f, 0x0f, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  };
  oled_write_raw_P(raw_osx_logo, sizeof(raw_osx_logo));
}

// Horizontal Line, 32x8px
void render_line (int x, int y) {
  oled_set_cursor(x, y);
  static const char PROGMEM raw_line[] = {
    0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08,
    0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08
  };
  oled_write_raw_P(raw_line, sizeof(raw_line));
}

// Current WPM Counter
void render_current_wpm(int x, int y) {
  oled_set_cursor(x, y);
  char wpm_str[5];

  sprintf(wpm_str, " %03d", get_current_wpm());
  oled_write(wpm_str, false);

  oled_set_cursor(0, 15);
  oled_write(" wpm", false);
}

void render_default_layer (int x, int y) {
  oled_set_cursor(x, y);

  switch (get_highest_layer(default_layer_state)) {
    case _HALMAK:
      oled_write("HALMK ", false);
      break;
    case _QWERTY:
      oled_write("QWRTY", false);
      break;
    default:
      oled_write("UNDEF", false);
    }
}

void render_layer (int x, int y) {
  oled_set_cursor(x, y);

  switch (get_highest_layer(layer_state)) {
    case _QWERTY:
    case _HALMAK:
      oled_write("BASE ", false);
      break;
    case _NAV:
      oled_write("NAV  ", false);
      break;
    case _MOUSE:
      oled_write("MOUSE", false);
      break;
    case _BUTTON:
      oled_write("BTN  ", false);
      break;
    case _MEDIA:
      oled_write("MEDIA", false);
      break;
    case _NUMBER:
      oled_write("NUM  ", false);
      break;
    case _SYMBOL:
      oled_write("SYM  ", false);
      break;
    case _FUNCTION:
      oled_write("FN   ", false);
      break;
    case _CONTROL:
      oled_write("CTRL ", false);
      break;
    default:
      // Or use the write_ln shortcut over adding '\n' to the end of your string
      oled_write("Undef", false);
  }
}

void render_led_state (int x, int y) {
  oled_set_cursor(x, y);

  led_t led_usb_state = host_keyboard_led_state();
  oled_write(led_usb_state.num_lock ? "NUMLK" : "     ", false);
  oled_write(led_usb_state.caps_lock ? "CPSLK" : "     ", false);
  oled_write(led_usb_state.scroll_lock ? "SCRLK" : "     ", false);
}
